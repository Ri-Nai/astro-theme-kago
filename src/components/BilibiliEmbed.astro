---
export interface Props {
  bvid: string;
  width?: number;
  height?: number;
}

const { bvid, width = 560, height = 315 } = Astro.props;
---

<div class="bilibili-embed">
  <iframe
    src={`https://player.bilibili.com/player.html?bvid=${bvid}&page=1`}
    width={width}
    height={height}
    scrolling="no"
    border="0"
    frameborder="no"
    framespacing="0"
    allowfullscreen="true"
    loading="lazy"
  >
  </iframe>
</div>

<style>
  .bilibili-embed {
    margin: 2rem 0;
    display: flex;
    justify-content: center;
  }

  .bilibili-embed iframe {
    max-width: 100%;
    border-radius: var(--blog-radius-md);
    box-shadow: var(--blog-shadow-1);
  }

  @media (max-width: 768px) {
    .bilibili-embed iframe {
      width: 100%;
      height: 250px;
    }
  }

  @media (max-width: 480px) {
    .bilibili-embed iframe {
      height: 200px;
    }
  }
</style>
